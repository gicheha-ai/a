<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EUR/GBP 2-Minute Profit Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-chart-line"></i> EUR/GBP 2-Minute Profit Predictor</h1>
            <p class="subtitle">Automated trading system that predicts price movements every 2 minutes</p>
            <div id="data-warning"></div>
            <p class="last-updated" id="last-updated">Loading...</p>
            <p class="refresh-info">Next prediction in: <span id="countdown" class="countdown-timer">120s</span></p>
        </div>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Initializing trading system...</p>
        </div>
        
        <div id="content" style="display: none;">
            <!-- Stats Overview -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3><i class="fas fa-pound-sign"></i> Current Price</h3>
                    <div class="stat-value" id="current-price">0.857500</div>
                    <p>EUR/GBP</p>
                </div>
                <div class="stat-card">
                    <h3><i class="fas fa-wallet"></i> Account Balance</h3>
                    <div class="stat-value profit" id="account-balance">$10,000.00</div>
                    <p>Virtual Trading</p>
                </div>
                <div class="stat-card">
                    <h3><i class="fas fa-trophy"></i> Win Rate</h3>
                    <div class="stat-value" id="win-rate">0.0%</div>
                    <p>Successful Trades</p>
                </div>
                <div class="stat-card">
                    <h3><i class="fas fa-chart-bar"></i> Total Profit</h3>
                    <div class="stat-value profit" id="total-profit">$0.00</div>
                    <p>Cumulative Profit</p>
                </div>
            </div>
            
            <!-- Main Trading Section -->
            <div class="trading-section">
                <div class="prediction-card">
                    <h2 class="card-title"><i class="fas fa-crystal-ball"></i> 2-Minute Prediction</h2>
                    
                    <div class="prediction-box">
                        <div class="prediction-label">Next 2 Minutes:</div>
                        <div class="prediction-value bullish" id="prediction">BULLISH</div>
                    </div>
                    
                    <div class="confidence-meter">
                        <p>Prediction Confidence</p>
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="confidence-fill" style="width: 75%"></div>
                        </div>
                        <div class="confidence-percentage" id="confidence-percentage">75%</div>
                    </div>
                    
                    <div class="action-signal buy-signal" id="action-signal">
                        <div class="action-text" id="action-text">BUY</div>
                        <div class="action-subtext" id="action-subtext">Predicting price increase in next 2 minutes</div>
                    </div>
                    
                    <div class="active-trade" id="active-trade" style="display: none;"></div>
                </div>
                
                <div class="trade-card">
                    <h2 class="card-title"><i class="fas fa-chart-bar"></i> Technical Indicators</h2>
                    
                    <div class="indicators-grid">
                        <div class="indicator-item">
                            <div class="indicator-name">RSI (14)</div>
                            <div class="indicator-value" id="indicator-rsi_14">50.00</div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-name">MACD Fast</div>
                            <div class="indicator-value" id="indicator-macd_fast">0.0000</div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-name">Stochastic %K</div>
                            <div class="indicator-value" id="indicator-stoch_k">50.00</div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-name">ADX</div>
                            <div class="indicator-value" id="indicator-adx">25.00</div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-name">ATR (14)</div>
                            <div class="indicator-value" id="indicator-atr_14">0.0010</div>
                        </div>
                        <div class="indicator-item">
                            <div class="indicator-name">Williams %R</div>
                            <div class="indicator-value" id="indicator-williams_r">-50.00</div>
                        </div>
                    </div>
                    
                    <div class="controls">
                        <button class="btn btn-buy" id="manual-buy">
                            <i class="fas fa-arrow-up"></i> Manual BUY
                        </button>
                        <button class="btn btn-sell" id="manual-sell">
                            <i class="fas fa-arrow-down"></i> Manual SELL
                        </button>
                        <button class="btn" id="reset-btn" style="background: #666;">
                            <i class="fas fa-redo"></i> Reset Stats
                        </button>
                    </div>
                    
                    <div class="trade-stats">
                        <p style="margin-top: 20px; text-align: center; color: #aaa;">
                            <i class="fas fa-info-circle"></i> Total Trades: <span id="total-trades">0</span>
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Price Chart -->
            <div class="chart-container">
                <h2 class="card-title"><i class="fas fa-chart-candlestick"></i> Live Price Chart</h2>
                <div id="price-chart"></div>
            </div>
            
            <!-- Trade History -->
            <div class="history-container">
                <h2 class="card-title"><i class="fas fa-history"></i> Recent Trade History</h2>
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Action</th>
                            <th>Entry Price</th>
                            <th>Exit Price</th>
                            <th>P&L %</th>
                            <th>Result</th>
                        </tr>
                    </thead>
                    <tbody id="history-tbody">
                        <!-- Filled by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <!-- Footer -->
            <footer>
                <p><strong>EUR/GBP 2-Minute Profit Predictor</strong> | Auto-refreshes every 5 seconds</p>
                <p>⚠️ <strong>Risk Warning:</strong> This is a demonstration system. Forex trading involves substantial risk of loss.</p>
                <p>Virtual trading balance: $10,000 | Prediction interval: 2 minutes | Version 1.0</p>
            </footer>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>